<script>

  /// !!! PROVE OF CONCEPT - we cannot run user modified files on server due to safety - dynamic ts import run imported code with whole io, fs, http arsenal
  // we can safely compile ts file and return to browser (or headless browser) and process entity to JSON

  // GENERATED CODE - DO NOT MODIFY BY HAND
  define("model/model", ["require", "exports"], function (require, exports) {
    "use strict";
    exports.__esModule = true;
  });
  define("data/tales/0lvl_bandits/world", ["require", "exports"], function (require, exports) {
    "use strict";
    exports.__esModule = true;
    exports.world = {
      baseTerrain: 'grass',
      startingFieldIds: [
        '0_1',
        '0_2',
        '0_3',
        '0_4',
        '1_0',
        '1_1',
        '1_2',
        '1_3',
        '2_1',
        '2_2',
        '2_3',
        '2_4',
        '3_1',
        '3_2',
        '3_3',
        '3_4',
        '4_1',
        '4_2',
        '4_3',
        '4_4',
      ],
      fields: {
        '0_21': {terrain: 'forest'},
        '0_24': {terrain: 'forest'},
        '0_26': {terrain: 'forest'},
        '1_7': {terrain: 'forest'},
        '1_8': {terrain: 'water'},
        '1_9': {terrain: 'rock'},
        '1_13': {terrain: 'rock'},
        '1_16': {terrain: 'forest'},
        '1_19': {terrain: 'forest'},
        '1_20': {terrain: 'forest'},
        '1_27': {terrain: 'forest'},
        '2_7': {terrain: 'rock'},
        '2_8': {terrain: 'water'},
        '2_9': {terrain: 'water'},
        '2_10': {terrain: 'water'},
        '2_15': {terrain: 'forest'},
        '2_17': {terrain: 'forest'},
        '2_28': {terrain: 'forest'},
        '3_5': {terrain: 'forest'},
        '3_14': {terrain: 'forest'},
        '3_15': {terrain: 'forest'},
        '3_16': {terrain: 'forest'},
        '3_17': {terrain: 'rock'},
        '3_18': {terrain: 'forest'},
        '3_19': {terrain: 'forest'},
        '3_25': {terrain: 'forest'},
        '4_13': {terrain: 'forest'},
        '4_16': {terrain: 'rock'},
        '4_17': {terrain: 'forest'},
        '4_19': {terrain: 'forest'},
        '4_24': {terrain: 'forest'},
        '5_5': {terrain: 'forest'},
        '5_8': {terrain: 'forest'},
        '5_13': {terrain: 'forest'},
        '5_14': {terrain: 'forest'},
        '5_19': {terrain: 'forest'},
        '5_28': {terrain: 'forest'},
        '5_29': {terrain: 'rock'},
        '6_7': {terrain: 'forest'},
        '6_12': {terrain: 'forest'},
        '6_18': {terrain: 'forest'},
        '6_20': {terrain: 'forest'},
        '6_21': {terrain: 'forest'},
        '6_22': {terrain: 'forest'},
        '6_27': {terrain: 'forest'},
        '7_11': {terrain: 'forest'},
        '7_12': {terrain: 'forest'},
        '7_15': {terrain: 'forest'},
        '7_17': {terrain: 'forest'},
        '7_18': {terrain: 'forest'},
        '7_24': {terrain: 'forest'},
        '7_29': {terrain: 'forest'},
        '8_19': {terrain: 'forest'},
        '8_20': {terrain: 'forest'},
        '8_21': {terrain: 'forest'},
        '8_27': {terrain: 'forest'},
        '9_1': {terrain: 'forest'},
        '9_2': {terrain: 'forest'},
        '9_3': {terrain: 'forest'},
        '9_4': {terrain: 'forest'},
        '9_6': {terrain: 'forest'},
        '9_7': {terrain: 'rock'},
        '9_13': {terrain: 'forest'},
        '9_14': {terrain: 'forest'},
        '9_19': {terrain: 'forest'},
        '9_25': {terrain: 'forest'},
        '9_27': {terrain: 'rock'},
        '10_6': {terrain: 'forest'},
        '10_11': {terrain: 'forest'},
        '10_12': {terrain: 'forest'},
        '11_3': {terrain: 'forest'},
        '11_5': {terrain: 'forest'},
        '11_6': {terrain: 'forest'},
        '11_7': {terrain: 'forest'},
        '11_11': {terrain: 'forest'},
        '11_12': {terrain: 'forest'},
        '11_14': {terrain: 'forest'},
        '11_17': {terrain: 'forest'},
        '11_18': {terrain: 'forest'},
        '11_22': {terrain: 'forest'},
        '11_23': {terrain: 'forest'},
        '11_26': {terrain: 'rock'},
        '12_5': {terrain: 'forest'},
        '12_6': {terrain: 'forest'},
        '12_8': {terrain: 'forest'},
        '12_10': {terrain: 'forest'},
        '12_11': {terrain: 'forest'},
        '12_14': {terrain: 'forest'},
        '12_17': {terrain: 'forest'},
        '12_18': {terrain: 'forest'},
        '12_19': {terrain: 'forest'},
        '13_4': {terrain: 'forest'},
        '13_7': {terrain: 'forest'},
        '13_9': {terrain: 'forest'},
        '13_12': {terrain: 'forest'},
        '13_14': {terrain: 'forest'},
        '13_15': {terrain: 'forest'},
        '13_16': {terrain: 'forest'},
        '13_18': {terrain: 'forest'},
        '13_19': {terrain: 'forest'},
        '13_23': {terrain: 'forest'},
        '14_2': {terrain: 'rock'},
        '14_5': {terrain: 'forest'},
        '14_12': {terrain: 'forest'},
        '14_16': {terrain: 'forest'},
        '14_18': {terrain: 'forest'},
        '14_20': {terrain: 'forest'},
        '14_26': {terrain: 'rock'},
        '14_27': {terrain: 'rock'},
        '15_2': {terrain: 'forest'},
        '15_3': {terrain: 'forest'},
        '15_4': {terrain: 'forest'},
        '15_10': {terrain: 'forest'},
        '15_14': {terrain: 'forest'},
        '15_16': {terrain: 'forest'},
        '15_17': {terrain: 'forest'},
        '15_18': {terrain: 'forest'},
        '15_21': {terrain: 'forest'},
        '15_22': {terrain: 'forest'},
        '15_24': {terrain: 'forest'},
        '15_26': {terrain: 'forest'},
        '15_29': {terrain: 'forest'},
        '16_0': {terrain: 'forest'},
        '16_3': {terrain: 'forest'},
        '16_4': {terrain: 'forest'},
        '16_10': {terrain: 'forest'},
        '16_11': {terrain: 'forest'},
        '16_12': {terrain: 'forest'},
        '16_13': {terrain: 'forest'},
        '16_16': {terrain: 'forest'},
        '16_17': {terrain: 'forest'},
        '16_20': {terrain: 'forest'},
        '16_21': {terrain: 'forest'},
        '16_23': {terrain: 'forest'},
        '17_1': {terrain: 'forest'},
        '17_2': {terrain: 'forest'},
        '17_4': {terrain: 'forest'},
        '17_5': {terrain: 'forest'},
        '17_8': {terrain: 'forest'},
        '17_10': {terrain: 'forest'},
        '17_17': {terrain: 'rock'},
        '17_24': {terrain: 'forest'},
        '17_25': {terrain: 'forest'},
        '18_2': {terrain: 'rock'},
        '18_4': {terrain: 'forest'},
        '18_6': {terrain: 'rock'},
        '18_7': {terrain: 'forest'},
        '18_8': {terrain: 'forest'},
        '18_10': {terrain: 'forest'},
        '18_11': {terrain: 'forest'},
        '18_13': {terrain: 'forest'},
        '18_19': {terrain: 'forest'},
        '18_26': {terrain: 'forest'},
        '18_28': {terrain: 'forest'},
        '19_2': {terrain: 'forest'},
        '19_3': {terrain: 'forest'},
        '19_5': {terrain: 'forest'},
        '19_6': {terrain: 'forest'},
        '19_7': {terrain: 'forest'},
        '19_8': {terrain: 'rock'},
        '19_10': {terrain: 'forest'},
        '19_16': {terrain: 'forest'},
        '19_17': {terrain: 'rock'},
        '19_19': {terrain: 'forest'},
        '19_20': {terrain: 'forest'},
        '19_21': {terrain: 'forest'},
        '20_3': {terrain: 'forest'},
        '20_4': {terrain: 'forest'},
        '20_7': {terrain: 'forest'},
        '20_9': {terrain: 'forest'},
        '20_10': {terrain: 'forest'},
        '20_11': {terrain: 'forest'},
        '20_12': {terrain: 'forest'},
        '20_13': {terrain: 'forest'},
        '20_14': {terrain: 'rock'},
        '20_15': {terrain: 'forest'},
        '20_16': {terrain: 'rock'},
        '20_19': {terrain: 'forest'},
        '20_23': {terrain: 'forest'},
        '20_24': {terrain: 'rock'},
        '21_0': {terrain: 'forest'},
        '21_3': {terrain: 'forest'},
        '21_4': {terrain: 'forest'},
        '21_6': {terrain: 'forest'},
        '21_8': {terrain: 'forest'},
        '21_16': {terrain: 'forest'},
        '21_19': {terrain: 'forest'},
        '21_24': {terrain: 'forest'},
        '21_25': {terrain: 'forest'},
        '21_28': {terrain: 'forest'},
        '22_0': {terrain: 'forest'},
        '22_4': {terrain: 'forest'},
        '22_9': {terrain: 'forest'},
        '22_10': {terrain: 'forest'},
        '22_11': {terrain: 'forest'},
        '22_12': {terrain: 'forest'},
        '22_13': {terrain: 'forest'},
        '22_16': {terrain: 'forest'},
        '22_19': {terrain: 'forest'},
        '22_20': {terrain: 'forest'},
        '22_23': {terrain: 'rock'},
        '22_29': {terrain: 'forest'},
        '23_1': {terrain: 'forest'},
        '23_5': {terrain: 'forest'},
        '23_6': {terrain: 'forest'},
        '23_8': {terrain: 'forest'},
        '23_16': {terrain: 'forest'},
        '23_22': {terrain: 'forest'},
        '23_23': {terrain: 'forest'},
        '24_2': {terrain: 'forest'},
        '24_5': {terrain: 'forest'},
        '24_8': {terrain: 'forest'},
        '24_13': {terrain: 'rock'},
        '24_14': {terrain: 'forest'},
        '24_20': {terrain: 'forest'},
        '24_22': {terrain: 'forest'},
        '24_25': {terrain: 'forest'},
        '24_27': {terrain: 'forest'},
        '25_1': {terrain: 'rock'},
        '25_2': {terrain: 'forest'},
        '25_5': {terrain: 'forest'},
        '25_9': {terrain: 'forest'},
        '25_18': {terrain: 'forest'},
        '25_20': {terrain: 'forest'},
        '25_28': {terrain: 'forest'},
        '26_6': {terrain: 'forest'},
        '26_9': {terrain: 'forest'},
        '26_10': {terrain: 'forest'},
        '26_14': {terrain: 'forest'},
        '26_15': {terrain: 'forest'},
        '26_17': {terrain: 'forest'},
        '26_24': {terrain: 'forest'},
        '26_26': {terrain: 'forest'},
        '27_1': {terrain: 'forest'},
        '27_7': {terrain: 'forest'},
        '27_8': {terrain: 'forest'},
        '27_13': {terrain: 'forest'},
        '27_18': {terrain: 'forest'},
        '27_19': {terrain: 'forest'},
        '27_20': {terrain: 'forest'},
        '27_29': {terrain: 'forest'},
        '28_1': {terrain: 'forest'},
        '28_3': {terrain: 'forest'},
        '28_4': {terrain: 'forest'},
        '28_6': {terrain: 'forest'},
        '28_9': {terrain: 'rock'},
        '28_15': {terrain: 'forest'},
        '28_20': {terrain: 'forest'},
        '28_27': {terrain: 'forest'},
        '28_28': {terrain: 'forest'},
        '29_13': {terrain: 'forest'},
        '29_15': {terrain: 'forest'},
        '29_16': {terrain: 'forest'},
        '29_23': {terrain: 'forest'},
        '29_28': {terrain: 'forest'},
        '29_29': {terrain: 'forest'}
      },
      height: 30,
      width: 30
    };
  });
  define("data/tales/0lvl_bandits/0lvl_bandits", ["require", "exports", "data/tales/0lvl_bandits/world"], function (require, exports, world_1) {
    "use strict";
    exports.__esModule = true;
    var bandits = {
      color: '#555555',
      id: 'bandits',
      taleId: 'bandits',
      aiGroup: {
        aiEngine: 'standard',
        langName: {
          en: 'Bandits'
        }
      },
      team: 'bandits'
    };
    exports.data = {
      lobby: {
        description: {
          en: 'A very simple tale for newbies.'
        },
        id: '0lvl_bandits',
        image: {
          authorEmail: 'wassago@seznam.cz',
          created: '2011-10-05T14:48:00.000Z',
          data: 'human/pikeman.png',
          dataModelVersion: 0,
          height: 84,
          width: 60,
          multiply: 0,
          name: 'pikeman',
          left: 0,
          top: 0,
          type: 'unitBase',
          origin: 'author',
          tags: [],
          imageVersion: 0
        },
        name: {
          en: 'Bandits camp',
          cz: 'Tábor banditů'
        }
      },
      authorEmail: 'mlcoch.zdenek@gmail.com',
      tale: {
        humanPlayerIds: ['0', '1', '2', '3'],
        dialogs: {},
        events: {},
        name: '0lvl_bandits',
        langs: {en: {}},
        aiPlayers: {
          bandits: bandits
        },
        langName: {
          en: 'Bandits camp',
          cz: 'Tábor banditů'
        },
        taleVersion: 0,
        units: [
          {
            moveToFieldId: '3_3',
            changeToTypeName: 'pikeman',
            transferToPlayerId: 'bandits'
          },
          {
            moveToFieldId: '4_3',
            changeToTypeName: 'elvenLizard',
            transferToPlayerId: 'bandits'
          },
          {
            moveToFieldId: '5_5',
            changeToTypeName: 'banditPikeman',
            transferToPlayerId: 'bandits'
          },
          {
            moveToFieldId: '5_6',
            changeToTypeName: 'banditPikeman',
            transferToPlayerId: 'bandits'
          },
          {
            moveToFieldId: '6_6',
            changeToTypeName: 'banditMaceman',
            transferToPlayerId: 'bandits'
          },
          {
            moveToFieldId: '7_6',
            changeToTypeName: 'banditMaceman',
            transferToPlayerId: 'bandits'
          },
        ],
        world: world_1.world,
        triggers: {
          onInit: [],
          onUnitDies: [
            {
              action: {
                victoryCheckAction: {
                  allOfTeamsEliminatedForLost: null,
                  anyOfTeamsEliminatedForLost: ['players'],
                  allTeamsEliminatedForWin: ['bandits'],
                  anyOfTeamsEliminatedForWin: null,
                  unitsEliminatedForLost: null
                }
              }
            },
          ]
        },
        taleAttributes: {}
      }
    };
  });

  require(['data/tales/0lvl_bandits/0lvl_bandits'], function (foo) {
    console.log(JSON.stringify(foo.data));
  });
</script>
