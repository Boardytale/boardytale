<div
    *ngIf="hero != null"
    class="container-fluid"
    style="height: calc(100% - 40px);overflow-y: auto;"
>
  <div class="row">
    <div class="col">
      <h3>Zjednodušený Deník {{hero.envelope.gameHeroEnvelope.name}} pro postavy do 6. úrovně</h3>
    </div>
  </div>
  <div class="row">
    <div class="col-4 border">
      <h3>Postava</h3>
      <div class="row">
        <div class="col-3 text-center">
          <img
              [src]="hero.envelope.gameHeroEnvelope.type.image.data">
        </div>
        <div class="col-9">
          Úroveň: {{hero.state.level}}<br>
          Životy: {{hero.state.health}}<br>
          Zbroj: {{hero.state.armor}}<br>
          Rychlost: {{hero.state.speed}}<br>
          Útok {{hero.state.attack}}<br>
        </div>
      </div>
    </div>
    <character
        class="col-4 border" style="display:block"
        [hero]="hero"
    >

    </character>
    <div
        *ngIf="hero.getFirstWeapon() != null"
        class="col-4 border">
      <h3>Zbraň</h3>
      Název: {{hero.getFirstWeapon()?.name}}<br>
      Základní útok: {{hero.getFirstWeapon()?.weapon?.baseAttack}}<br>
      Bonus k útoku: {{hero.getFirstWeapon()?.weapon?.bonusAttack}}<br>
      Útok: {{hero.state.attack}}<br/>
      <button (click)="removeWeapon()">Odebrat</button>

    </div>
    <div
        *ngIf="hero.getFirstWeapon() == null"
        class="col-4 border">
      <h3>Hrdina nemá žádnou zbraň</h3>
    </div>
  </div>

  <div class="row">
    <div class="col-4 border">
      <h3>Vlastnosti předmětů</h3>
      Hmotnost: {{hero.itemSum.weight}} <br>
      Body zbroje: {{hero.itemSum.armorPoints}} <br>
      Bonus k životu: {{hero.itemSum.healthBonus}} <br>
      Bonus k maně: {{hero.itemSum.manaBonus}} <br>
      Bonus k síle: {{hero.itemSum.strengthBonus}} <br>
      Bonus k obratnosti: {{hero.itemSum.agilityBonus}} <br>
      Bonus ke spiritualitě: {{hero.itemSum.spiritualityBonus}}<br>
      Bonus k preciznosti: {{hero.itemSum.precisionBonus}} <br>
      Bonus k energii: {{hero.itemSum.energyBonus}} <br>
    </div>
    <div class="col-4 border">
      <h3>Seznam vybavení</h3>
      <div *ngFor="let item of envelope.equippedItems.equippedItemsList()">{{item.name}}
        <button (click)="sellItem(item)">Prodat ({{(item.suggestedPrice / 2).floor()}})</button>
      </div>
    </div>
    <div class="col-4 border">
      <h3>Zisky z odehrátých her</h3>
      <div *ngFor="let item of envelope.equippedItems.equippedItemsList()">{{item.name}}
        <button (click)="sellItem(item)">Prodat ({{(item.suggestedPrice / 2).floor()}})</button>
      </div>
    </div>

  </div>
  <div class="row">
    <div
        *ngIf="heroIsMidLevel"
        class="col-4 border">
      <h3>Mezivýpočty</h3>
      Hmotnost výbavy: {{hero.state.itemWeight}}<br>
      Mana: {{hero.state.mana}}<br>
      Obratnost (+items): {{hero.state.effectiveAgility}} = {{envelope.agility}} (+{{hero.itemSum.agilityBonus}})<br>
      Síla(+items): {{hero.state.effectiveStrength}} = {{envelope.strength}} (+{{hero.itemSum.strengthBonus}})<br>
      Základ počtu životů (6 + 2*síla)(+items): {{hero.state.baseHealth}}(+{{hero.itemSum.healthBonus}})<br>
    </div>
    <div
        *ngIf="heroIsLowLevel"
        class="col-4 border">
      <h3>Mezivýpočty budou k dispozici od 6. úrovně</h3>
    </div>
    <div *ngIf="heroIsMidLevel" class="col-3 border">
      <h3>Rychlost</h3>
      Hmotnost: {{hero.state.itemWeight}}<br>
      Síla (nosnost): {{hero.state.effectiveStrength}} ({{hero.state.weightLimit}})<br>
      Rychlost: {{hero.state.speed}}<br>
      Potřeba pro +1: TODO
    </div>
    <div class="col-3 border">
      <h3>Zbroj</h3>
      Hmotnost: {{hero.state.itemWeight}}<br>
      Obratnost: {{hero.state.effectiveAgility}} (TODO chybí do dalšího brnění)<br>
      Body zbroje: {{hero.itemSum.armorPoints.toStringAsFixed(2)}}<br>
      Zbroj: {{hero.state.armor}}<br>
    </div>
  </div>
  <br>
  <hr>
  <br>
</div>
